<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PigeonGo - Arama Yapın</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="assets/tailwind.config.js"></script>
    <link rel="icon" href="https://devnar.github.io/logos/pigeongo.png" type="image/png">
    <link rel="stylesheet" href="assets/style.css">
</head>
<body class="min-h-screen bg-pigeon-dark text-text-primary">
    <!-- Header -->
    <header class="flex items-center justify-between p-4 flex-row-reverse">
        <div class="flex items-center gap-4">
            <button class="text-text-tertiary hover:text-text-primary transition-colors p-2">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 6.75C3 6.05302 3 5.70453 3.05764 5.41473C3.29436 4.22466 4.22466 3.29436 5.41473 3.05764C5.70453 3 6.05302 3 6.75 3C7.44698 3 7.79547 3 8.08527 3.05764C9.27534 3.29436 10.2056 4.22466 10.4424 5.41473C10.5 5.70453 10.5 6.05302 10.5 6.75C10.5 7.44698 10.5 7.79547 10.4424 8.08527C10.2056 9.27534 9.27534 10.2056 8.08527 10.4424C7.79547 10.5 7.44698 10.5 6.75 10.5C6.05302 10.5 5.70453 10.5 5.41473 10.4424C4.22466 10.2056 3.29436 9.27534 3.05764 8.08527C3 7.79547 3 7.44698 3 6.75Z" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M3 17.25C3 16.553 3 16.2045 3.05764 15.9147C3.29436 14.7247 4.22466 13.7944 5.41473 13.5576C5.70453 13.5 6.05302 13.5 6.75 13.5C7.44698 13.5 7.79547 13.5 8.08527 13.5576C9.27534 13.7944 10.2056 14.7247 10.4424 15.9147C10.5 16.2045 10.5 16.553 10.5 17.25C10.5 17.947 10.5 18.2955 10.4424 18.5853C10.2056 19.7753 9.27534 20.7056 8.08527 20.9424C7.79547 21 7.44698 21 6.75 21C6.05302 21 5.70453 21 5.41473 20.9424C4.22466 20.7056 3.29436 19.7753 3.05764 18.5853C3 18.2955 3 17.947 3 17.25Z" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M13.5 6.75C13.5 6.05302 13.5 5.70453 13.5576 5.41473C13.7944 4.22466 14.7247 3.29436 15.9147 3.05764C16.2045 3 16.553 3 17.25 3C17.947 3 18.2955 3 18.5853 3.05764C19.7753 3.29436 20.7056 4.22466 20.9424 5.41473C21 5.70453 21 6.05302 21 6.75C21 7.44698 21 7.79547 20.9424 8.08527C20.7056 9.27534 19.7753 10.2056 18.5853 10.4424C18.2955 10.5 17.947 10.5 17.25 10.5C16.553 10.5 16.2045 10.5 15.9147 10.4424C14.7247 10.2056 13.7944 9.27534 13.5576 8.08527C13.5 7.79547 13.5 7.44698 13.5 6.75Z" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M13.5 17.25C13.5 16.553 13.5 16.2045 13.5576 15.9147C13.7944 14.7247 14.7247 13.7944 15.9147 13.5576C16.2045 13.5 16.553 13.5 17.25 13.5C17.947 13.5 18.2955 13.5 18.5853 13.5576C19.7753 13.7944 20.7056 14.7247 20.9424 15.9147C21 16.2045 21 16.553 21 17.25C21 17.947 21 18.2955 20.9424 18.5853C20.7056 19.7753 19.7753 20.7056 18.5853 20.9424C18.2955 21 17.947 21 17.25 21C16.553 21 16.2045 21 15.9147 20.9424C14.7247 20.7056 13.7944 19.7753 13.5576 18.5853C13.5 18.2955 13.5 17.947 13.5 17.25Z" stroke="currentColor" stroke-width="1.5"/>
                </svg>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex flex-col items-center justify-center sm:min-h-[calc(100vh-200px)] px-4">
        <!-- Logo -->
         <div class="flex flex-wrap flex-row items-center justify-center gap-4">
            <div class="mb-8">
                <img src="https://devnar.github.io/logos/pigeongo.png" alt="PigeonGo Logo" class="w-28 h-28 rounded-lg">
            </div>

            <!-- Brand Name -->
            <h1 class="text-6xl font-light mb-8 text-center hidden sm:block">
                Pigeon<span class="text-brand-yellow">Go</span>
            </h1>
         </div>
        

        <!-- Search Form -->
        <form id="searchForm" class="w-full max-w-2xl mb-8 relative">
            <div class="relative">
                <input
                    type="text"
                    id="searchInput"
                    placeholder="Web'de arama yapın"
                    class="search-input w-full h-14 pl-6 pr-14 text-lg bg-pigeon-card border-2 border-border-medium text-text-primary placeholder-text-placeholder rounded-full focus:outline-none transition-all duration-300"
                    autocomplete="off"
                >
                <button
                    type="submit"
                    class="search-button absolute right-2 top-2 h-10 w-10 bg-brand-yellow hover:bg-brand-yellow-hover text-black rounded-full flex items-center justify-center"
                >
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Search Suggestions Dropdown -->
            <div id="suggestionsDropdown" class="suggestions-dropdown absolute top-full left-0 right-0 bg-pigeon-card border border-border-medium rounded-lg mt-1 hidden z-10">
                <!-- Suggestions will be populated here -->
            </div>
            
            <datalist id="searchSuggestions">
                <!-- History suggestions will be populated here -->
            </datalist>
        </form>
    </main>

    <!-- Footer -->
    <footer class="absolute bottom-0 w-full p-6">
        <div class="flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-text-tertiary">
            <div class="flex gap-6 flex-wrap justify-center">
                <a href="privacy.html" class="hover:text-text-primary transition-colors">Gizlilik</a>
                <a href="terms.html" class="hover:text-text-primary transition-colors">Şartlar</a>
            </div>
            <div class="flex gap-6 flex-wrap justify-center">
                <a href="#" class="hover:text-text-primary transition-colors">Bağış</a>
            </div>
        </div>
    </footer>

    <script>
        // Search history management
        let history = JSON.parse(localStorage.getItem('PigeonGo_history') || '[]');

        // Search functionality
        const searchForm = document.getElementById('searchForm');
        const searchInput = document.getElementById('searchInput');
        const searchBtn = document.getElementById('searchBtn');
        const luckyBtn = document.getElementById('luckyBtn');
        const suggestionsDropdown = document.getElementById('suggestionsDropdown');

        // Load search history on page load
        updateSuggestions();

        // Handle form submission
        searchForm.addEventListener('submit', function(e) {
            e.preventDefault();
            performSearch();
        });

        // Handle search button click
        searchBtn.addEventListener('click', function() {
            performSearch();
        });

        // Perform search function
        function performSearch() {
            const query = searchInput.value.trim();
            if (query) {
                addToHistory(query);
                window.location.href = `results.html?q=${encodeURIComponent(query)}`;
            } else {
                alert("Lütfen arama terimi girin.");
            }
        }

        // Add to search history
        function addToHistory(query) {
            if (!history.includes(query)) {
                history.unshift(query);
                if (history.length > 10) {
                    history = history.slice(0, 10);
                }
                localStorage.setItem('PigeonGo_history', JSON.stringify(history));
                updateSuggestions();
            }
        }

        // Update search suggestions
        function updateSuggestions() {
            const datalist = document.getElementById("searchSuggestions");
            datalist.innerHTML = history
                .map((q) => `<option value="${q}"></option>`)
                .join("");
        }

        // Show suggestions dropdown
        function showSuggestions() {
            if (history.length > 0) {
                suggestionsDropdown.innerHTML = history
                    .map(query => `<div class="suggestion-item text-text-primary" onclick="selectSuggestion('${query}')">${query}</div>`)
                    .join('');
                suggestionsDropdown.classList.remove('hidden');
            }
        }

        // Hide suggestions dropdown
        function hideSuggestions() {
            setTimeout(() => {
                suggestionsDropdown.classList.add('hidden');
            }, 200);
        }

        // Select suggestion
        function selectSuggestion(query) {
            searchInput.value = query;
            suggestionsDropdown.classList.add('hidden');
            performSearch();
        }


        searchInput.addEventListener('input', function() {
            if (this.value.length > 0) {
                const filteredHistory = history.filter(item => 
                    item.toLowerCase().includes(this.value.toLowerCase())
                );
                if (filteredHistory.length > 0) {
                    suggestionsDropdown.innerHTML = filteredHistory
                        .map(query => `<div class="suggestion-item text-text-primary" onclick="selectSuggestion('${query}')">${query}</div>`)
                        .join('');
                    suggestionsDropdown.classList.remove('hidden');
                } else {
                    suggestionsDropdown.classList.add('hidden');
                }
            } else {
                showSuggestions();
            }
        });

        // Focus on search input when page loads
        window.addEventListener('load', function() {
            searchInput.focus();
        });

        // Hide suggestions when clicking outside
        document.addEventListener('click', function(e) {
            if (!searchForm.contains(e.target)) {
                suggestionsDropdown.classList.add('hidden');
            }
        });

        // Harfi alma fonksiyonu
        function getSpecialLetter(link) {
            try {
                const url = new URL(link);
                const pathname = url.pathname;
                const hostname = url.hostname;

                const pathParts = pathname.split("/").filter(Boolean);

                if (pathParts.length > 0) {
                    return pathParts[0][0];
                } else {
                    return hostname[0];
                }
            } catch (e) {
                return '';
            }
        }
    </script>
    <script async="" src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
</body>
<script>window.addEventListener("DOMContentLoaded", loadFavorites);</script>
</html>